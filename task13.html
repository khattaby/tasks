<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>تحية المستخدم</title>
    <style>
      body {
        font-family: sans-serif;
        text-align: center;
        margin-top: 50px;
      }

      h1 {
        color: blue;
      }

      button {
        padding: 5px 10px;
        background: blue;
        color: white;
      }

      #userInfo {
        margin-top: 20px;
        text-align: right;
        border: 5px solid #000;
        padding: 10px;
      }
    </style>

    <script>
      const person = {
        name: "ايمن ابراهيم",
        age: 28,
        job: "مهندس ميكاترونكس",
        address: {
          city: "القاهرة",
          zip: "12345",
        },
        language: "العربية",
      };

      const {
        name,
        age,
        job,
        address: { city, zip },
        language = "غير محدد",
      } = person;

      function displayGreeting({ name, age, job }) {
        alert(`مرحبًا ${name}! عمرك ${age} وتعمل كـ ${job}.`);
      }

      function displayInfo() {
        const userInfoDiv = document.getElementById("userInfo");
        userInfoDiv.innerHTML = `
                <h2>عرض تطبيقي</h2>
                <p>الاسم: ${name}</p>
                <p>العمر: ${age}</p>
                <p>الوظيفة: ${job}</p>
                <p>المدينة: ${city}</p>
                <p>الرمز البريدي: ${zip}</p>
                <p>اللغة: ${language}</p>
            `;
      }

      function greetUser() {
        displayGreeting(person);
      }

      window.onload = function () {
        displayInfo();
      };

      /* 
Challenges Faced:
   - Initially, I tried to access DOM elements before they were loaded, 
     which caused JavaScript runs too early, so person's elements don’t exist yet when the script runs. 
*/

      /*what did i learn? 
    1. I can write my <script> inside the <head>, but in this case,
       I need to use window.onload to make sure the JavaScript runs after the page (DOM and other resources) is fully loaded,
       so that all HTML elements — including <div id="userInfo"></div> and the <button> — are available to be accessed or manipulated by the script,
       because I did not place the script at the end of the <body>,
       where scripts usually run after the DOM is parsed.
          
    2. I learned how to restructure objects using destructuring to easily extract variables,
       including nested properties,
       which makes working with complex objects simpler and my code cleaner.

    3. I learned how to use default values in destructuring to handle cases when a property might be missing,
       ensuring my variables always have a meaningful value.
*/
    </script>
  </head>
  <body>
    <h1>مرحبًا بك في صفحة تحية المستخدم</h1>
    <p>اضغط على الزر لتلقي تحية مخصصة.</p>
    <button onclick="greetUser()">أرسل التحية</button>

    <div id="userInfo"></div>
  </body>
</html>
